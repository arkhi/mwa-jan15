<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml' lang='en'>
  <head>
    <meta charset='utf-8'/>
    <title>Assignment 3</title>

    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="css/all.css">
    <!-- <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" /> -->
    <link rel="stylesheet" href="js/leaflet/leaflet.css" />
  </head>
  <body>
    <h1 class="toggle-all">My Diary Entries</h1>
    <div id="map"></div>

    <section class="entries">
      <form id="add-entry" class="can-collapse">
        <h2 class="entry-header add-entry collapse-trigger">Add entry</h2>

        <div class="collapse-target">
          <div class="form-row">
            <label class="prop" for="title">Title</label>
            <input id="title" class="value" name="title" type="text" required>
          </div>
          
          <div class="form-row">
            <label class="prop" for="description">Description</label>
            <textarea id="description" class="value" name="description" cols="30" rows="10" required></textarea>
          </div>
          
          <div class="form-row">
            <div class="prop">
              <input id="location" class="prop" name="location" type="checkbox" value="ok">
            </div>
            <label class="value" for="location">Show my present location.</label>
          </div>

          <hr>

          <div class="actions" >
            <button id="post-entry" class="action" name="submit" type="submit">Post entry</button>
          </div>
        </div>
      </form>
    </section>

    <div id="dev-actions" class="actions">
      <hr>
      <button class="action" data-action="clearLocalStorage">clear local storage</button>
      <button class="action" data-action="populate">Populate entries</button>
      <button class="action" data-action="listEntries">list entries</button>
    </div>

    <script id="tpl-entry" type="text/x-jsrender">
      <article id="entry-{{:entryID}}" class="entry can-collapse">
        <h2 class="entry-header collapse-trigger">{{:title}}</h2>
        <div class="collapse-target">
          {{:description}}

          <hr>

          <div class="actions">
            <a class="action" data-action="delete" href="?/delete/{{url:entryID}}" title="delete “{{attr:title}}”">delete</a>
            <a class="action" data-action="edit" href="?/edit/{{url:entryID}}" title="edit “{{attr:title}}”">edit</a>
          </div>
        </div>
      </article>
    </script>

    <script id="tpl-edit-entry" type="text/x-jsrender">
      <form id="edit-entry-{{:entryID}}">
        <div class="entry-header collapse-trigger">
          <label class="prop" for="title">Title</label>
          <input id="title-{{:entryID}}" class="value" name="title[{{:entryID}}]" type="text" required value="{{:title}}" />
        </div>

        <div class="collapse-target">
          <div class="form-row">
            <label class="prop" for="description">Description</label>
            <textarea id="description-{{:entryID}}" class="value" name="description[{{:entryID}}]"
                      cols="30" rows="10" required>{{:description}}</textarea>
          </div>
          
          <div class="form-row">
            <div class="prop">
              <input id="location-{{:entryID}}" name="location[{{:entryID}}]" type="checkbox" value="ok">
            </div>
            <label class="value" for="location-{{:entryID}}">Update to my present location.</label>
          </div>

          <hr>

          <div class="actions">
            <button class="action" data-action="submit" href="?/delete/{{url:entryID}}" title="delete “{{attr:title}}”">submit</button>
            <button class="action" data-action="cancel" type="cancel">cancel</button>
            <button class="action" type="reset">reset</button>
          </div>
        </div>
      </form>
    </script>

    <script id="tpl-feedback-entry" type="text/x-jsrender">
      <div class="feedback-entry feedback-{{:type}} can-click" data-action="closeFeedback">
        {{:msg}}
      </div>
    </script>

    <!-- <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script> -->
    <!-- <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script> -->
    <script src="js/jsrender.min.js"></script>
    <script src="js/jquery-1.11.2.min.js"></script>
    <script src="js/leaflet/leaflet.js"></script>
    <script src="js/myLittleDiary.js"></script>

    <script>
      // myLittleDiary.cfg.debug = true;
    </script>
  </body>
</html>

